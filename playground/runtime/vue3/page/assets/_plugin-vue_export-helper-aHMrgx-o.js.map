{"version":3,"file":"_plugin-vue_export-helper-aHMrgx-o.js","sources":["../../../../../../runtime/vue-runtime-help/dist/hooks/use-app.js"],"sourcesContent":["/*\n * Tencent is pleased to support the open source community by making TMagicEditor available.\n *\n * Copyright (C) 2023 THL A29 Limited, a Tencent company.  All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { inject, onBeforeUnmount, onMounted } from 'vue-demi';\nimport { isDslNode } from '@tmagic/core';\nexport const useApp = ({ methods = {}, config, iteratorContainerId, iteratorIndex }) => {\n    const app = inject('app');\n    const emitData = {\n        config,\n        ...methods,\n    };\n    const display = (config) => {\n        if (config.visible === false)\n            return false;\n        if (config.condResult === false)\n            return false;\n        const displayCfg = config.display;\n        if (typeof displayCfg === 'function') {\n            return displayCfg(app);\n        }\n        return displayCfg !== false;\n    };\n    const node = isDslNode(config) && config.id ? app?.getNode(config.id, iteratorContainerId, iteratorIndex) : undefined;\n    if (node) {\n        node.emit('created', emitData);\n        onMounted(() => {\n            node.emit('mounted', emitData);\n        });\n        onBeforeUnmount(() => {\n            node.emit('destroy', emitData);\n        });\n    }\n    return {\n        app,\n        node,\n        display,\n    };\n};\n"],"names":["useApp","methods","config","iteratorContainerId","iteratorIndex","app","emitData","display","displayCfg","node","isDslNode"],"mappings":"wCAmBA,MAAAA,EAAA,CAAA,CAAA,QAAAC,EAAA,CAAA,EAAA,OAAAC,EAAA,oBAAAC,EAAA,cAAAC,KAAA,CACA,MAAAC,EAAgB,QAAM,OAAA,KAAA,EACtBC,EAAA,CACA,OAAAJ,EACA,GAAAD,CACA,EACAM,EAAAL,GAAA,CAGA,GAFAA,EAAA,UAAA,IAEAA,EAAA,aAAA,GACA,MAAA,GACA,MAAAM,EAAAN,EAAA,QACA,OAAA,OAAAM,GAAA,WACAA,EAAAH,CAAA,EAEAG,IAAA,EACA,EACAC,EAAAC,EAAAR,CAAA,GAAAA,EAAA,GAAAG,GAAA,YAAAA,EAAA,QAAAH,EAAA,GAAAC,EAAAC,GAAA,OACA,OAAAK,IACAA,EAAA,KAAA,UAAAH,CAAA,EACQ,QAAS,UAAA,IAAA,CACjBG,EAAA,KAAA,UAAAH,CAAA,CACA,CAAA,EACQ,QAAe,gBAAA,IAAA,CACvBG,EAAA,KAAA,UAAAH,CAAA,CACA,CAAA,GAEA,CACA,IAAAD,EACA,KAAAI,EACA,QAAAF,CACA,CACA"}