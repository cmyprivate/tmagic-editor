{"version":3,"file":"index-legacy-kHAfbwzq.js","sources":["../../../../../../vue-components/page/src/index.vue"],"sourcesContent":["<template>\n  <component :is=\"containerComponent\" class=\"magic-ui-page\" :data-tmagic-id=\"config.id\" :config=\"config\"></component>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, type PropType } from 'vue-demi';\n\nimport { asyncLoadCss, asyncLoadJs, type MPage } from '@tmagic/core';\nimport { useApp, useComponent } from '@tmagic/vue-runtime-help';\n\nconst createCss = (config: MPage) => {\n  if (config.cssFile) {\n    asyncLoadCss(config.cssFile);\n  }\n\n  if (Array.isArray(config.cssFiles)) {\n    config.cssFiles.map((file) => asyncLoadCss(file.url));\n  }\n\n  if (config.css) {\n    const style = window.document.createElement('style');\n    style.innerHTML = config.css;\n    window.document.head.appendChild(style);\n  }\n};\n\nconst createJs = (config: MPage) => {\n  if (Array.isArray(config.jsFiles)) {\n    config.jsFiles.map((file) => asyncLoadJs(file.url));\n  }\n};\n\nexport default defineComponent({\n  props: {\n    config: {\n      type: Object as PropType<MPage>,\n      required: true,\n    },\n    model: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n\n  setup(props) {\n    const refresh = () => {\n      window.location.reload();\n    };\n\n    const { app } = useApp({\n      config: props.config,\n      methods: { refresh },\n    });\n\n    if (app?.jsEngine === 'browser') {\n      createCss(props.config);\n      createJs(props.config);\n    }\n\n    const containerComponent = useComponent({ componentType: 'container', app });\n\n    return {\n      containerComponent,\n    };\n  },\n});\n</script>\n"],"names":["_sfc_main","VueDemi","defineComponent","props","config","type","Object","required","model","default","setup","app","useApp","methods","refresh","window","location","reload","jsEngine","cssFile","asyncLoadCss","Array","isArray","cssFiles","map","file","url","css","style","document","createElement","innerHTML","head","appendChild","createCss","jsFiles","asyncLoadJs","containerComponent","useComponent","componentType","_ctx","_cache","$props","$setup","$data","$options","Vue","openBlock","createBlock","resolveDynamicComponent","class","id"],"mappings":"uSAUA,MAsBeA,EAAAC,QAAgBC,gBAAA,CAAAC,MAAA,CACtBC,OAAA,CACGC,KAAAC,OACAC,UAAA,GAERC,MAAA,CACOH,KAAAC,OACCG,QAAAA,KAAA,CAAA,KAGVC,KAAAA,CAAAP,GAGE,MAIAQ,IAAAA,GAAAC,EAAA,CAAuBR,OAAAD,EAAAC,OACPS,QAAA,CAAAC,QALhBA,KACEC,OAAAC,SAAAC,QAAA,KApBNb,MAmCI,MAPA,YAAAO,GAAAO,WA5CJd,KASE,GARAA,EAAAe,SACEC,EAAAhB,EAAAe,SAGFE,MAAAC,QAAAlB,EAAAmB,WACEnB,EAAAmB,SAAAC,KAAAC,GAAAL,EAAAK,EAAAC,OAGFtB,EAAAuB,IAAA,CACE,MAAAC,EAAAb,OAAAc,SAAAC,cAAA,SACAF,EAAAG,UAAA3B,EAAAuB,IACAZ,OAAAc,SAAAG,KAAAC,YAAAL,EAAsC,GAiCpCM,CAAA/B,EAAAC,QA7BNA,EA8BMD,EAAAC,OA7BJiB,MAAAC,QAAAlB,EAAA+B,UACE/B,EAAA+B,QAAAX,KAAAC,GAAAW,EAAAX,EAAAC,QAiCA,CAAOW,mBAFPC,EAAA,CAAAC,cAAA,YAAA5B,QAIA,+BA9DuC,SAAA6B,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAkB,OAAAC,IAAAC,YAAgB3C,IAAS4C,YAAAF,IAAAG,wBAAAT,EAAAH,oBAAA,CAAAa,MAAA,gBAAS,iBAAAV,EAAApC,OAAA+C"}