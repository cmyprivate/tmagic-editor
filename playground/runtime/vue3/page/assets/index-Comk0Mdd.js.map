{"version":3,"file":"index-Comk0Mdd.js","sources":["../../../../../../vue-components/page/src/index.vue"],"sourcesContent":["<template>\n  <component :is=\"containerComponent\" class=\"magic-ui-page\" :data-tmagic-id=\"config.id\" :config=\"config\"></component>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, type PropType } from 'vue-demi';\n\nimport { asyncLoadCss, asyncLoadJs, type MPage } from '@tmagic/core';\nimport { useApp, useComponent } from '@tmagic/vue-runtime-help';\n\nconst createCss = (config: MPage) => {\n  if (config.cssFile) {\n    asyncLoadCss(config.cssFile);\n  }\n\n  if (Array.isArray(config.cssFiles)) {\n    config.cssFiles.map((file) => asyncLoadCss(file.url));\n  }\n\n  if (config.css) {\n    const style = window.document.createElement('style');\n    style.innerHTML = config.css;\n    window.document.head.appendChild(style);\n  }\n};\n\nconst createJs = (config: MPage) => {\n  if (Array.isArray(config.jsFiles)) {\n    config.jsFiles.map((file) => asyncLoadJs(file.url));\n  }\n};\n\nexport default defineComponent({\n  props: {\n    config: {\n      type: Object as PropType<MPage>,\n      required: true,\n    },\n    model: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n\n  setup(props) {\n    const refresh = () => {\n      window.location.reload();\n    };\n\n    const { app } = useApp({\n      config: props.config,\n      methods: { refresh },\n    });\n\n    if (app?.jsEngine === 'browser') {\n      createCss(props.config);\n      createJs(props.config);\n    }\n\n    const containerComponent = useComponent({ componentType: 'container', app });\n\n    return {\n      containerComponent,\n    };\n  },\n});\n</script>\n"],"names":["createCss","config","asyncLoadCss","file","style","createJs","asyncLoadJs","_sfc_main","props","refresh","app","useApp","useComponent","_sfc_render","_ctx","_cache","$props","$setup","$data","$options"],"mappings":"mMAUA,MAAAA,EAAAC,GAAA,CASE,GARAA,EAAA,SACEC,EAAAD,EAAA,OAAA,EAGF,MAAA,QAAAA,EAAA,QAAA,GACEA,EAAA,SAAA,IAAAE,GAAAD,EAAAC,EAAA,GAAA,CAAA,EAGFF,EAAA,IAAA,CACE,MAAAG,EAAA,OAAA,SAAA,cAAA,OAAA,EACAA,EAAA,UAAAH,EAAA,IACA,OAAA,SAAA,KAAA,YAAAG,CAAA,CAAsC,CAE1C,EAEAC,EAAAJ,GAAA,CACE,MAAA,QAAAA,EAAA,OAAA,GACEA,EAAA,QAAA,IAAAE,GAAAG,EAAAH,EAAA,GAAA,CAAA,CAEJ,EAEeI,EAAA,QAAgB,gBAAA,CAAA,MAAA,CACtB,OAAA,CACG,KAAA,OACA,SAAA,EACI,EACZ,MAAA,CACO,KAAA,OACC,QAAA,KAAA,CAAA,EACW,CACnB,EACF,MAAAC,EAAA,CAGE,MAAAC,EAAA,IAAA,CACE,OAAA,SAAA,OAAA,CAAuB,EAGzB,CAAA,IAAAC,CAAA,EAAAC,EAAA,CAAuB,OAAAH,EAAA,OACP,QAAA,CAAA,QAAAC,CAAA,CACK,CAAA,EAGrB,OAAAC,GAAA,YAAAA,EAAA,YAAA,YACEV,EAAAQ,EAAA,MAAA,EACAH,EAAAG,EAAA,MAAA,GAKF,CAAO,mBAFPI,EAAA,CAAA,cAAA,YAAA,IAAAF,CAAA,CAAA,CAGE,CACF,CAEJ,CAAA,EAhE2C,SAAAG,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,CAAkB,OAAA,IAAA,UAAA,EAAgBlB,IAAS,YAAA,IAAA,wBAAAa,EAAA,kBAAA,EAAA,CAAA,MAAA,gBAAS,iBAAAA,EAAA,OAAA"}